---
interface Props {
  active?: 'home' | 'docs';
  ctaHref?: string;
  ctaLabel?: string;
  showCta?: boolean;
}

const { active = 'home', ctaHref = '/getting-started', ctaLabel = 'Get Started', showCta = true } = Astro.props;
const navLinkBase =
  'rounded-[0.58rem] border border-transparent px-2.5 py-1.5 text-[0.9rem] font-semibold text-[var(--mc-muted)] no-underline transition-colors duration-200 hover:border-[var(--mc-border)] hover:bg-black/5 hover:text-[var(--mc-text)] dark:hover:bg-white/5';
const navLinkActive = 'border-[var(--mc-border-strong)] bg-black/5 text-[var(--mc-text)] dark:bg-white/5';
---

<div class="grid w-full min-h-[calc(var(--sl-nav-height)-1rem)] grid-cols-[auto_1fr_auto] items-center gap-3" aria-label="Primary navigation">
  <a class="inline-flex items-center gap-2.5 text-[var(--mc-text)] no-underline" href="/" aria-label="miniCLI home">
    <span
      class="grid h-5 w-5 grid-cols-3 gap-[2px] rounded-[0.42rem] border border-[var(--mc-border)] bg-[var(--mc-bg-elev)] p-[3px] shadow-[inset_0_0_0_1px_rgba(255,255,255,0.25)]"
      aria-hidden="true"
    >
      <span class="rounded-full bg-accent-input opacity-95"></span>
      <span class="rounded-full bg-accent-output opacity-95"></span>
      <span class="rounded-full bg-accent-config opacity-95"></span>
    </span>
    <span class="text-[1.02rem] font-extrabold tracking-[-0.02em]">miniCLI</span>
  </a>

  <nav class="hidden min-[59rem]:inline-flex items-center justify-self-center gap-1">
    <a class:list={[navLinkBase, { [navLinkActive]: active === 'home' }]} href="/">Home</a>
    <a class:list={[navLinkBase, { [navLinkActive]: active === 'docs' }]} href="/reference">Docs</a>
    <a class={navLinkBase} href="/getting-started">Quickstart</a>
    <a class:list={[navLinkBase, 'max-[72rem]:hidden']} href="/versioning">Versions</a>
    <a class={navLinkBase} href="https://github.com/minicli/minicli" target="_blank" rel="noreferrer">GitHub</a>
  </nav>

  <div class="mc-nav-tools inline-flex items-center justify-self-end gap-2">
    <slot name="tools" />
    {showCta && (
      <a
        class="hidden min-[59rem]:inline-flex items-center justify-center rounded-[0.62rem] border border-[var(--mc-border-strong)] bg-linear-to-r from-accent-input/20 to-accent-config/20 px-3 py-2 text-[0.88rem] leading-none font-bold text-[var(--mc-text)] no-underline transition-transform duration-200 hover:-translate-y-px"
        href={ctaHref}
      >
        {ctaLabel}
      </a>
    )}
  </div>
</div>
